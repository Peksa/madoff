#{extends 'main.html' /}
#{set 'title'}
	&{'login'}
#{/set}
<div id="login">
	
	<h1>&{'login'}</h1>
		
	#{if flash.error}
		<div class="alert-message error">
			<a class="close" href="#">&times;</a> 
			<p>
				<strong>&{'error'}</strong> 
				&{flash.error}
			</p>
		</div>
	#{/if}
	#{if flash.success}
		<div class="alert-message success">
			<a class="close" href="#">&times;</a> 
			<p>
				<strong>&{'success'}</strong> 
				&{flash.success}
			</p>
		</div>
	#{/if}
	#{form @authenticate()}
		<fieldset>
			<legend>&{'login'}</legend>
			<div class="clearfix">
				<label for="username">&{'secure.username'}</label>
				<div class="input">
					<input type="text" name="username" id="username" value="${flash.username}" />
				</div>
			</div>
			<div class="clearfix">
				<label for="password">&{'secure.password'}</label>
				<div class="input">
					<input type="password" name="password" id="password" value="" />
				</div>
			</div>
			<div class="clearfix">
				<label for="remember">&{'secure.remember'}</label>
				<div class="input">
					<input type="checkbox" name="remember" id="remember" value="true" ${flash.remember ? 'checked="true"' : ''} />
				</div>
			</div>
			<div class="actions"> 
				<input class="btn primary" type="submit" id="signin" value="&{'secure.signin'}" />
				&nbsp;<button type="reset" class="btn">&{'Cancel'}</button> 
			</div>
		</fieldset>
	#{/form}
	<p id="signup">
		&{'views.Secure.login.noAccount'} #{a @Users.register()}&{'views.Secure.login.register'}#{/a}
	</p>
	
</div>